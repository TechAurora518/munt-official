// AUTOGENERATED FILE - DO NOT MODIFY!
// This file generated by Djinni from libunity.djinni

#import "DBUnifiedBackend+Private.h"
#import "DBUnifiedBackend.h"
#import "DBAddressRecord+Private.h"
#import "DBBlockInfoRecord+Private.h"
#import "DBLegacyWalletResult+Private.h"
#import "DBMonitorListener+Private.h"
#import "DBMonitorRecord+Private.h"
#import "DBMutationRecord+Private.h"
#import "DBPaymentResultStatus+Private.h"
#import "DBPeerRecord+Private.h"
#import "DBQrCodeRecord+Private.h"
#import "DBTransactionRecord+Private.h"
#import "DBUnifiedFrontend+Private.h"
#import "DBUriRecipient+Private.h"
#import "DBUriRecord+Private.h"
#import "DJICppWrapperCache+Private.h"
#import "DJIError.h"
#import "DJIMarshal+Private.h"
#include <exception>
#include <stdexcept>
#include <utility>

static_assert(__has_feature(objc_arc), "Djinni requires ARC to be enabled for this file");

@interface DBUnifiedBackend ()

- (id)initWithCpp:(const std::shared_ptr<::UnifiedBackend>&)cppRef;

@end

@implementation DBUnifiedBackend {
    ::djinni::CppProxyCache::Handle<std::shared_ptr<::UnifiedBackend>> _cppRefHandle;
}

- (id)initWithCpp:(const std::shared_ptr<::UnifiedBackend>&)cppRef
{
    if (self = [super init]) {
        _cppRefHandle.assign(cppRef);
    }
    return self;
}

+ (nonnull NSString *)BuildInfo {
    try {
        auto objcpp_result_ = ::UnifiedBackend::BuildInfo();
        return ::djinni::String::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (int32_t)InitUnityLib:(nonnull NSString *)dataDir
       staticFilterPath:(nonnull NSString *)staticFilterPath
     staticFilterOffset:(int64_t)staticFilterOffset
     staticFilterLength:(int64_t)staticFilterLength
                testnet:(BOOL)testnet
                spvMode:(BOOL)spvMode
          signalHandler:(nullable id<DBUnifiedFrontend>)signalHandler
              extraArgs:(nonnull NSString *)extraArgs {
    try {
        auto objcpp_result_ = ::UnifiedBackend::InitUnityLib(::djinni::String::toCpp(dataDir),
                                                             ::djinni::String::toCpp(staticFilterPath),
                                                             ::djinni::I64::toCpp(staticFilterOffset),
                                                             ::djinni::I64::toCpp(staticFilterLength),
                                                             ::djinni::Bool::toCpp(testnet),
                                                             ::djinni::Bool::toCpp(spvMode),
                                                             ::djinni_generated::UnifiedFrontend::toCpp(signalHandler),
                                                             ::djinni::String::toCpp(extraArgs));
        return ::djinni::I32::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (void)InitUnityLibThreaded:(nonnull NSString *)dataDir
            staticFilterPath:(nonnull NSString *)staticFilterPath
          staticFilterOffset:(int64_t)staticFilterOffset
          staticFilterLength:(int64_t)staticFilterLength
                     testnet:(BOOL)testnet
                     spvMode:(BOOL)spvMode
               signalHandler:(nullable id<DBUnifiedFrontend>)signalHandler
                   extraArgs:(nonnull NSString *)extraArgs {
    try {
        ::UnifiedBackend::InitUnityLibThreaded(::djinni::String::toCpp(dataDir),
                                               ::djinni::String::toCpp(staticFilterPath),
                                               ::djinni::I64::toCpp(staticFilterOffset),
                                               ::djinni::I64::toCpp(staticFilterLength),
                                               ::djinni::Bool::toCpp(testnet),
                                               ::djinni::Bool::toCpp(spvMode),
                                               ::djinni_generated::UnifiedFrontend::toCpp(signalHandler),
                                               ::djinni::String::toCpp(extraArgs));
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)InitWalletFromRecoveryPhrase:(nonnull NSString *)phrase
                            password:(nonnull NSString *)password {
    try {
        auto objcpp_result_ = ::UnifiedBackend::InitWalletFromRecoveryPhrase(::djinni::String::toCpp(phrase),
                                                                             ::djinni::String::toCpp(password));
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)ContinueWalletFromRecoveryPhrase:(nonnull NSString *)phrase
                                password:(nonnull NSString *)password {
    try {
        auto objcpp_result_ = ::UnifiedBackend::ContinueWalletFromRecoveryPhrase(::djinni::String::toCpp(phrase),
                                                                                 ::djinni::String::toCpp(password));
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)InitWalletLinkedFromURI:(nonnull NSString *)linkedUri
                       password:(nonnull NSString *)password {
    try {
        auto objcpp_result_ = ::UnifiedBackend::InitWalletLinkedFromURI(::djinni::String::toCpp(linkedUri),
                                                                        ::djinni::String::toCpp(password));
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)ContinueWalletLinkedFromURI:(nonnull NSString *)linkedUri
                           password:(nonnull NSString *)password {
    try {
        auto objcpp_result_ = ::UnifiedBackend::ContinueWalletLinkedFromURI(::djinni::String::toCpp(linkedUri),
                                                                            ::djinni::String::toCpp(password));
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)InitWalletFromAndroidLegacyProtoWallet:(nonnull NSString *)walletFile
                                   oldPassword:(nonnull NSString *)oldPassword
                                   newPassword:(nonnull NSString *)newPassword {
    try {
        auto objcpp_result_ = ::UnifiedBackend::InitWalletFromAndroidLegacyProtoWallet(::djinni::String::toCpp(walletFile),
                                                                                       ::djinni::String::toCpp(oldPassword),
                                                                                       ::djinni::String::toCpp(newPassword));
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (DBLegacyWalletResult)isValidAndroidLegacyProtoWallet:(nonnull NSString *)walletFile
                                            oldPassword:(nonnull NSString *)oldPassword {
    try {
        auto objcpp_result_ = ::UnifiedBackend::isValidAndroidLegacyProtoWallet(::djinni::String::toCpp(walletFile),
                                                                                ::djinni::String::toCpp(oldPassword));
        return ::djinni::Enum<::LegacyWalletResult, DBLegacyWalletResult>::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)IsValidLinkURI:(nonnull NSString *)phrase {
    try {
        auto objcpp_result_ = ::UnifiedBackend::IsValidLinkURI(::djinni::String::toCpp(phrase));
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)ReplaceWalletLinkedFromURI:(nonnull NSString *)linkedUri
                          password:(nonnull NSString *)password {
    try {
        auto objcpp_result_ = ::UnifiedBackend::ReplaceWalletLinkedFromURI(::djinni::String::toCpp(linkedUri),
                                                                           ::djinni::String::toCpp(password));
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)EraseWalletSeedsAndAccounts {
    try {
        auto objcpp_result_ = ::UnifiedBackend::EraseWalletSeedsAndAccounts();
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)IsValidRecoveryPhrase:(nonnull NSString *)phrase {
    try {
        auto objcpp_result_ = ::UnifiedBackend::IsValidRecoveryPhrase(::djinni::String::toCpp(phrase));
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull NSString *)GenerateRecoveryMnemonic {
    try {
        auto objcpp_result_ = ::UnifiedBackend::GenerateRecoveryMnemonic();
        return ::djinni::String::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull NSString *)GenerateGenesisKeys {
    try {
        auto objcpp_result_ = ::UnifiedBackend::GenerateGenesisKeys();
        return ::djinni::String::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull NSString *)ComposeRecoveryPhrase:(nonnull NSString *)mnemonic
                                  birthTime:(int64_t)birthTime {
    try {
        auto objcpp_result_ = ::UnifiedBackend::ComposeRecoveryPhrase(::djinni::String::toCpp(mnemonic),
                                                                      ::djinni::I64::toCpp(birthTime));
        return ::djinni::String::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (void)TerminateUnityLib {
    try {
        ::UnifiedBackend::TerminateUnityLib();
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull DBQrCodeRecord *)QRImageFromString:(nonnull NSString *)qrString
                                    widthHint:(int32_t)widthHint {
    try {
        auto objcpp_result_ = ::UnifiedBackend::QRImageFromString(::djinni::String::toCpp(qrString),
                                                                  ::djinni::I32::toCpp(widthHint));
        return ::djinni_generated::QrCodeRecord::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull NSString *)GetReceiveAddress {
    try {
        auto objcpp_result_ = ::UnifiedBackend::GetReceiveAddress();
        return ::djinni::String::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull NSString *)GetRecoveryPhrase {
    try {
        auto objcpp_result_ = ::UnifiedBackend::GetRecoveryPhrase();
        return ::djinni::String::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)IsMnemonicWallet {
    try {
        auto objcpp_result_ = ::UnifiedBackend::IsMnemonicWallet();
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)IsMnemonicCorrect:(nonnull NSString *)phrase {
    try {
        auto objcpp_result_ = ::UnifiedBackend::IsMnemonicCorrect(::djinni::String::toCpp(phrase));
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull NSArray<NSString *> *)GetMnemonicDictionary {
    try {
        auto objcpp_result_ = ::UnifiedBackend::GetMnemonicDictionary();
        return ::djinni::List<::djinni::String>::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)UnlockWallet:(nonnull NSString *)password {
    try {
        auto objcpp_result_ = ::UnifiedBackend::UnlockWallet(::djinni::String::toCpp(password));
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)LockWallet {
    try {
        auto objcpp_result_ = ::UnifiedBackend::LockWallet();
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)ChangePassword:(nonnull NSString *)oldPassword
           newPassword:(nonnull NSString *)newPassword {
    try {
        auto objcpp_result_ = ::UnifiedBackend::ChangePassword(::djinni::String::toCpp(oldPassword),
                                                               ::djinni::String::toCpp(newPassword));
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (BOOL)HaveUnconfirmedFunds {
    try {
        auto objcpp_result_ = ::UnifiedBackend::HaveUnconfirmedFunds();
        return ::djinni::Bool::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (int64_t)GetBalance {
    try {
        auto objcpp_result_ = ::UnifiedBackend::GetBalance();
        return ::djinni::I64::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (void)DoRescan {
    try {
        ::UnifiedBackend::DoRescan();
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull DBUriRecipient *)IsValidRecipient:(nonnull DBUriRecord *)request {
    try {
        auto objcpp_result_ = ::UnifiedBackend::IsValidRecipient(::djinni_generated::UriRecord::toCpp(request));
        return ::djinni_generated::UriRecipient::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (int64_t)feeForRecipient:(nonnull DBUriRecipient *)request {
    try {
        auto objcpp_result_ = ::UnifiedBackend::feeForRecipient(::djinni_generated::UriRecipient::toCpp(request));
        return ::djinni::I64::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (DBPaymentResultStatus)performPaymentToRecipient:(nonnull DBUriRecipient *)request
                                      substractFee:(BOOL)substractFee {
    try {
        auto objcpp_result_ = ::UnifiedBackend::performPaymentToRecipient(::djinni_generated::UriRecipient::toCpp(request),
                                                                          ::djinni::Bool::toCpp(substractFee));
        return ::djinni::Enum<::PaymentResultStatus, DBPaymentResultStatus>::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull NSArray<DBTransactionRecord *> *)getTransactionHistory {
    try {
        auto objcpp_result_ = ::UnifiedBackend::getTransactionHistory();
        return ::djinni::List<::djinni_generated::TransactionRecord>::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull DBTransactionRecord *)getTransaction:(nonnull NSString *)txHash {
    try {
        auto objcpp_result_ = ::UnifiedBackend::getTransaction(::djinni::String::toCpp(txHash));
        return ::djinni_generated::TransactionRecord::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull NSArray<DBMutationRecord *> *)getMutationHistory {
    try {
        auto objcpp_result_ = ::UnifiedBackend::getMutationHistory();
        return ::djinni::List<::djinni_generated::MutationRecord>::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull NSArray<DBAddressRecord *> *)getAddressBookRecords {
    try {
        auto objcpp_result_ = ::UnifiedBackend::getAddressBookRecords();
        return ::djinni::List<::djinni_generated::AddressRecord>::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (void)addAddressBookRecord:(nonnull DBAddressRecord *)address {
    try {
        ::UnifiedBackend::addAddressBookRecord(::djinni_generated::AddressRecord::toCpp(address));
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (void)deleteAddressBookRecord:(nonnull DBAddressRecord *)address {
    try {
        ::UnifiedBackend::deleteAddressBookRecord(::djinni_generated::AddressRecord::toCpp(address));
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (void)PersistAndPruneForSPV {
    try {
        ::UnifiedBackend::PersistAndPruneForSPV();
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (void)ResetUnifiedProgress {
    try {
        ::UnifiedBackend::ResetUnifiedProgress();
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull NSArray<DBPeerRecord *> *)getPeers {
    try {
        auto objcpp_result_ = ::UnifiedBackend::getPeers();
        return ::djinni::List<::djinni_generated::PeerRecord>::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull NSArray<DBBlockInfoRecord *> *)getLastSPVBlockInfos {
    try {
        auto objcpp_result_ = ::UnifiedBackend::getLastSPVBlockInfos();
        return ::djinni::List<::djinni_generated::BlockInfoRecord>::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (float)getUnifiedProgress {
    try {
        auto objcpp_result_ = ::UnifiedBackend::getUnifiedProgress();
        return ::djinni::F32::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (nonnull DBMonitorRecord *)getMonitoringStats {
    try {
        auto objcpp_result_ = ::UnifiedBackend::getMonitoringStats();
        return ::djinni_generated::MonitorRecord::fromCpp(objcpp_result_);
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (void)RegisterMonitorListener:(nullable id<DBMonitorListener>)listener {
    try {
        ::UnifiedBackend::RegisterMonitorListener(::djinni_generated::MonitorListener::toCpp(listener));
    } DJINNI_TRANSLATE_EXCEPTIONS()
}

+ (void)UnregisterMonitorListener:(nullable id<DBMonitorListener>)listener {
    try {
        ::UnifiedBackend::UnregisterMonitorListener(::djinni_generated::MonitorListener::toCpp(listener));
    } DJINNI_TRANSLATE_EXCEPTIONS()
}


namespace djinni_generated {

auto UnifiedBackend::toCpp(ObjcType objc) -> CppType
{
    if (!objc) {
        return nullptr;
    }
    return objc->_cppRefHandle.get();
}

auto UnifiedBackend::fromCppOpt(const CppOptType& cpp) -> ObjcType
{
    if (!cpp) {
        return nil;
    }
    return ::djinni::get_cpp_proxy<DBUnifiedBackend>(cpp);
}

}  // namespace djinni_generated

@end
