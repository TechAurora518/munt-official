import onesky.client
import shutil
import sys

client = onesky.client.Client(api_key='qr0T7bv7id0GXh73i1jDPerqUPeV3E4k', api_secret=sys.argv[1])

def fetch_file(locale_code, an_code):
    status, json_response = client.translation_export(234709, locale_code, 'gulden_en.po', 'gulden.po');
    if status != 200:
        print('error fetching translation')
        print(json_response)
        return
    shutil.move("gulden.po", 'gulden_'  + an_code  + '.po')


lang_vector = [
('en', 'en'),
('nl', 'nl'),
('aa','aa'),
('ab','ab'),
('ae','ae'),
('af','af'),
('af-ZA','af-ZA'),
('agq','agq'),
('ak','ak'),
('am','am'),
('an','an'),
('ar','ar'),
('asa','asa'),
('as','as'),
('av','av'),
('ay','ay'),
('az','az'),
('ba','ba'),
('bas','bas'),
('be-BY','be-BY'),
('bem','bem'),
('bez','bez'),
('bg','bg'),
('bg-BG','bg-BG'),
('bh','bh'),
('bi','bi'),
('bm','bm'),
('bn','bn'),
('bo','bo'),
('br','br'),
('brx','brx'),
('bs-BA','bs-BA'),
('ca','ca'),
('ceb','ceb'),
('ce','ce'),
('cgg','cgg'),
('ch','ch'),
('chr','chr'),
('co','co'),
('cr','cr'),
('cs','cs'),
('cu','cu'),
('cv-CV','cv-CV'),
('cy-GB','cy-GB'),
('da','da'),
('dav','dav'),
('de','de'),
('dje','dje'),
('dua','dua'),
('dv','dv'),
('dyo','dyo'),
('dz','dz'),
('ebu','ebu'),
('ee','ee'),
('el','el'),
('el-GR','el-GR'),
('en-AU','en-AU'),
('en-CA','en-CA'),
('en-GB','en-GB'),
('en-US','en-US'),
('en-ZA','en-ZA'),
('eo','eo'),
('es-AR','es-AR'),
('es-CL','es-CL'),
('es-CO','es-CO'),
('es-DO','es-DO'),
('es','es'),
('es-ES','es-ES'),
('es-MX','es-MX'),
('es-UY','es-UY'),
('es-VE','es-VE'),
('et-EE','et-EE'),
('et','et'),
('eu-ES','eu-ES'),
('eur','eur'),
('ewo','ewo'),
('fa','fa'),
('fa-IR','fa-IR'),
('ff','ff'),
('fi','fi'),
('fil','fil'),
('fj','fj'),
('fo','fo'),
('fr-CA','fr-CA'),
('fr','fr'),
('fr-FR','fr-FR'),
('fy-NL','fy-NL'),
('ga-IE','ga-IE'),
('gd','gd'),
('gl-ES','gl-ES'),
('gn','gn'),
('gsw','gsw'),
('gu','gu'),
('guz','guz'),
('gv','gv'),
('ha','ha'),
('haw','haw'),
('he','he'),
('hi','hi'),
('hi-IN','hi-IN'),
('ho','ho'),
('hr','hr'),
('ht-HT','ht-HT'),
('hu','hu'),
('hy','hy'),
('hz','hz'),
('ia','ia'),
('id','id'),
('ie','ie'),
('ig','ig'),
('ii','ii'),
('ik','ik'),
('io','io'),
('is-IS','is-IS'),
('it','it'),
('it-IT','it-IT'),
('iu','iu'),
('ja','ja'),
('jmc','jmc'),
('jv','jv'),
('kab','kab'),
('ka','ka'),
('kam','kam'),
('kde','kde'),
('kea','kea'),
('kg','kg'),
('khq','khq'),
('ki','ki'),
('kj','kj'),
('kk','kk'),
('kl','kl'),
('kln','kln'),
('km','km'),
('kn','kn'),
('kok','kok'),
('ko','ko'),
('kr','kr'),
('ksb','ksb'),
('ksf','ksf'),
('ks','ks'),
('ku-TR','ku-TR'),
('kv','kv'),
('kw','kw'),
('ky','ky'),
('lag','lag'),
('la-VA','la-VA'),
('lb','lb'),
('lg','lg'),
('li','li'),
('ln','ln'),
('lo','lo'),
('lt','lt'),
('lu','lu'),
('luo','luo'),
('luy','luy'),
('lv-LV','lv-LV'),
('mas','mas'),
('mer','mer'),
('mfe','mfe'),
('mgh','mgh'),
('mg','mg'),
('mh','mh'),
('mi-NZ','mi-NZ'),
('mk','mk'),
('mk-MK','mk-MK'),
('ml','ml'),
('mn','mn'),
('mn-MN','mn-MN'),
('mr','mr'),
('ms','ms'),
('ms-MY','ms-MY'),
('mt-MT','mt-MT'),
('mua','mua'),
('my','my'),
('na','na'),
('nap-IT','nap-IT'),
('naq','naq'),
('nb','nb'),
('nd','nd'),
('ne','ne'),
('ng','ng'),
('nl-NL','nl-NL'),
('nmg','nmg'),
('no','no'),
('nr','nr'),
('nus','nus'),
('nv','nv'),
('nyn','nyn'),
('ny','ny'),
('oc','oc'),
('oj','oj'),
('om','om'),
('or','or'),
('os','os'),
('pa','pa'),
('pi','pi'),
('pl','pl'),
('pms-IT','pms-IT'),
('ps','ps'),
('pt-BR','pt-BR'),
('pt-PT','pt-PT'),
('qu','qu'),
('rm','rm'),
('rn','rn'),
('rof','rof'),
('ro','ro'),
('ro-RO','ro-RO'),
('ru','ru'),
('ru-RU','ru-RU'),
('rwk','rwk'),
('rw','rw'),
('saq','saq'),
('sa','sa'),
('sbp','sbp'),
('sc-IT','sc-IT'),
('sd','sd'),
('seh','seh'),
('se','se'),
('ses','ses'),
('sg','sg'),
('shi','shi'),
('si','si'),
('sk','sk'),
('sl-SI','sl-SI'),
('sl','sl'),
('sm','sm'),
('sn','sn'),
('so','so'),
('sq','sq'),
('sr-Latn','sr-Latn'),
('sr','sr'),
('ss','ss'),
('st','st'),
('su','su'),
('sv','sv'),
('swc','swc'),
('sw','sw'),
('ta','ta'),
('teo','teo'),
('te','te'),
('tg','tg'),
('th','th'),
('ti','ti'),
('tk','tk'),
('tlh-KL','tlh-KL'),
('tn','tn'),
('to','to'),
('tpi','tpi'),
('tr','tr'),
('ts','ts'),
('tt','tt'),
('twq','twq'),
('tw','tw'),
('ty','ty'),
('tzm','tzm'),
('ug','ug'),
('uk','uk'),
('ur-PK','ur-PK'),
('ur','ur'),
('uz','uz'),
('vai','vai'),
('ve','ve'),
('vi','vi'),
('vo','vo'),
('vun','vun'),
('wa','wa'),
('wo','wo'),
('xh','xh'),
('xog','xog'),
('yav','yav'),
('yi','yi'),
('yo','yo'),
('za','za'),
('zh-CN','zh-CN'),
('zh-Hant-TW','zh-Hant-TW'),
('zh-HK','zh-HK'),
('zh-TW','zh-TW'),
('zu','zu'),
]


for k, v in lang_vector:
	print(k)
	fetch_file(k, v);

